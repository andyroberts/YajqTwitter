(function(c){c.fn.yajqtwitter=function(e){var e=c.extend({},c.fn.yajqtwitter.defaults,e),i={regular:function(b){b=b.text;e.linkify&&(b=b.replace(/\b(http:\/\/[-A-Za-z0-9+&@#/%?=~_()|!:,.;]*[-A-Za-z0-9+&@#/%=~_()|])/ig,"<a href='$1' target=\"_blank\">$1</a>"),b=b.replace(/(@([A-Za-z0-9_]+))/ig,'<a href="http://www.twitter.com/$2" target="_blank">$1</a>'),b=b.replace(/(#([-A-Za-z0-9_]))/ig,'<a href="https://twitter.com/#!/search?q=%23$2" target="_blank">$1</a>'));return'<div class="post-body">'+b+"</div>"}},
f=function(b){return(b<10?"0":"")+b};return this.each(function(){var b=c(this);c.ajax({type:"GET",dataType:"jsonp",data:"trim_user=1&screen_name="+e.username+"&count="+(e.maxNumberOfPosts+1),url:"https://api.twitter.com/1/statuses/user_timeline.json",success:function(g){if(g!=null){b.empty();var h="";c.each(g,function(b,c){if(b>e.maxNumberOfPosts)return!1;var a=c.created_at;isNaN(Date.parse(a))&&(a=a.replace(/(\+[0-9]{4}\s)/ig,""));var d="",a=new Date(a),a=a.getUTCFullYear()+"-"+f(a.getUTCMonth()+
1)+"-"+f(a.getUTCDate())+"T"+f(a.getUTCHours())+":"+f(a.getUTCMinutes())+":"+f(a.getUTCSeconds())+"Z",a=new Date((a||"").replace(/-/g,"/").replace(/[TZ]/g," ")),a=((new Date).getTime()-a.getTime())/1E3,d=Math.floor(a/86400),d='<span class="timeago">'+(isNaN(d)||d<0?void 0:d==0&&(a<60&&"just now"||a<120&&"1 minute ago"||a<3600&&Math.floor(a/60)+" minutes ago"||a<7200&&"1 hour ago"||a<86400&&Math.floor(a/3600)+" hours ago")||d==1&&"Yesterday"||d<7&&d+" days ago"||d<85&&Math.ceil(d/7)+" weeks ago"||
"many moons ago")+"</span>";h+='<div class="post">'+i.regular.apply(this,[c])+'<div class="postDate"><a target="_blank" href="http://twitter.com/'+c.user.screen_name+"/status/"+c.id_str+'">'+d+'</a> \u00b7 <a target="_blank" href="http://twitter.com/intent/tweet?in_reply_to='+c.id_str+'">reply</a> \u00b7 <a target="_blank" href="http://twitter.com/intent/retweet?tweet_id='+c.id_str+'">retweet</a> \u00b7 <a target="_blank" href="http://twitter.com/intent/favorite?tweet_id='+c.id_str+'">favourite</a></div></div>'});
b.append('<div class="posts">'+h+"</div>")}},error:function(){}})})};c.fn.yajqtwitter.defaults={linkify:!0,maxNumberOfPosts:5,username:"andyroberts_uk"}})(jQuery);
